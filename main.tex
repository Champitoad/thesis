% Load the kaobook class
\documentclass[
	fontsize=10pt, % Base font size
	twoside=false, % Use different layouts for even and odd pages (in particular, if twoside=true, the margin column will be always on the outside)
	%open=any, % If twoside=true, uncomment this to force new chapters to start on any page, not only on right (odd) pages
	secnumdepth=2, % How deep to number headings. Defaults to 1 (sections)
	parskip=full-, % How much space to put between paragraphs
]{kaobook}

% Lower spacing between \paragraphs
\RedeclareSectionCommand[
	beforeskip=0.3em
]{paragraph}

% Choose the language
\usepackage[english]{babel} % Load characters and hyphenation
\usepackage[english=british]{csquotes}	% English quotes

% Load packages for testing
\usepackage{blindtext}
%\usepackage{showframe} % Uncomment to show boxes around the text area, margin, header and footer
%\usepackage{showlabels} % Uncomment to output the content of \label commands to the document where they are used

% Load the bibliography package
\usepackage{kaobiblio}
\addbibresource{main.bib} % Bibliography file

% Load mathematical packages for theorems and related environments
\definecolor{bgdefinition}{HTML}{f9f9df}
\definecolor{bgtheorem}{HTML}{fce3d7}
\definecolor{bglemma}{HTML}{e1efe3}
\colorlet{bgremark}{Yellow!20}
\colorlet{bgexample}{SpringGreen!30}
\colorlet{bgexercise}{Goldenrod!30}
\usepackage[
	framed=true,
	definitionbackground=bgdefinition,
	conditionbackground=bgdefinition,
	theorembackground=bgtheorem,
	lemmabackground=bglemma,
	corollarybackground=bglemma,
	propositionbackground=bglemma,
	factbackground=bglemma,
	remarkbackground=bgremark,
	examplebackground=bgexample,
	exercisebackground=bgexercise,
]{kaotheorems}

% Load the package for hyperreferences
\usepackage{kaorefs}

% Indexes
\makeindex[name=notion, title=Concept Index, columns=3, intoc]
\makeindex[name=acronym, title=Acronym Index, columns=3, intoc]
\makeindex[name=system, title=Proof System Index, columns=3, intoc]
\makeindex[name=software, title=Software System Index, columns=3, intoc]

% To include front and back matter
\usepackage{pdfpages}

\input{config}

\begin{document}

%----------------------------------------------------------------------------------------
%	BOOK INFORMATION
%----------------------------------------------------------------------------------------

% \titlehead{}
% \title{Deep Inference for Graphical Theorem Proving}
% \author[PD]{Pablo Donato}
% \date{March 9, 2024}
% \publishers{}

%----------------------------------------------------------------------------------------

\frontmatter % Denotes the start of the pre-document content, uses roman numerals

%----------------------------------------------------------------------------------------
%	COPYRIGHT PAGE
%----------------------------------------------------------------------------------------

% \makeatletter
% \uppertitleback{\@titlehead} % Header

% \lowertitleback{
% 	\textbf{Disclaimer} \\
% 	You can edit this page to suit your needs. For instance, here we have a no copyright statement, a colophon and some other information. This page is based on the corresponding page of Ken Arroyo Ohori's thesis, with minimal changes.
	
% 	\medskip
	
% 	\textbf{No copyright} \\
% 	\cczero\ This book is released into the public domain using the CC0 code. To the extent possible under law, I waive all copyright and related or neighbouring rights to this work.
	
% 	To view a copy of the CC0 code, visit: \\\url{http://creativecommons.org/publicdomain/zero/1.0/}
	
% 	\medskip
	
% 	\textbf{Colophon} \\
% 	This document was typeset with the help of \href{https://sourceforge.net/projects/koma-script/}{\KOMAScript} and \href{https://www.latex-project.org/}{\LaTeX} using the \href{https://github.com/fmarotta/kaobook/}{kaobook} class.
	
% 	\medskip
	
% 	\textbf{Publisher} \\
% 	First printed in May 2019 by \@publishers
% }
% \makeatother

%----------------------------------------------------------------------------------------
%	DEDICATION
%----------------------------------------------------------------------------------------

%----------------------------------------------------------------------------------------
%	OUTPUT TITLE PAGE AND PREVIOUS
%----------------------------------------------------------------------------------------

% Note that \maketitle outputs the pages before here
% \maketitle
\includepdf[pages=-]{1ere.pdf}

%----------------------------------------------------------------------------------------
%	ABSTRACT
%----------------------------------------------------------------------------------------

\chapter*{Abstract}

\input{abstract.tex}

\chapter*{Résumé}

\input{resume.tex}

\chapter*{Acknowledgments}

\input{acknowledgments.tex}

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS & LIST OF FIGURES/TABLES
%----------------------------------------------------------------------------------------

\begingroup % Local scope for the following commands

% Define the style for the TOC, LOF, and LOT
%\setstretch{1} % Uncomment to modify line spacing in the ToC
%\hypersetup{linkcolor=blue} % Uncomment to set the colour of links in the ToC
\setlength{\textheight}{230\vscale} % Manually adjust the height of the ToC pages

% Turn on compatibility mode for the etoc package
\etocstandarddisplaystyle % "toc display" as if etoc was not loaded
\etocstandardlines % "toc lines as if etoc was not loaded

\setcounter{tocdepth}{1}
\tableofcontents % Output the table of contents

\listoffigures % Output the list of figures
\setcounter{tocdepth}{2}

% Comment both of the following lines to have the LOF and the LOT on different pages
\let\cleardoublepage\bigskip
\let\clearpage\bigskip

\listoftables % Output the list of tables

\endgroup

%----------------------------------------------------------------------------------------
%	MAIN BODY
%----------------------------------------------------------------------------------------

\mainmatter % Denotes the start of the main document content, resets page numbering and uses arabic numbers
\setchapterstyle{kao} % Choose the default chapter heading style

% \pagelayout{wide} % No margins
% \addpart{Preliminaries}
% \pagelayout{margin} % Restore margins

\input{chapters/introduction.tex}

\pagelayout{wide} % No margins
\addpart{Symbolic Manipulations}
\pagelayout{margin} % Restore margins

\input{chapters/pba.tex}
\input{chapters/sfl.tex}
\input{chapters/advanced.tex}
\input{chapters/sfl-classical.tex}
\input{chapters/plugin.tex}

\pagelayout{wide} % No margins
\addpart{Iconic Manipulations}
\pagelayout{margin} % Restore margins

\input{chapters/bubbles.tex}
\input{chapters/bubbles-symm.tex}
\input{chapters/eg.tex}
\input{chapters/flowers.tex}

\appendix % From here onwards, chapters are numbered with letters, as is the appendix convention

\pagelayout{wide} % No margins
\addpart{Appendix}
\pagelayout{margin} % Restore margins

\input{appendix/bubbles-symm.tex}

%----------------------------------------------------------------------------------------

\backmatter % Denotes the end of the main document content
\setchapterstyle{plain} % Output plain chapters from this point onwards

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

% The bibliography needs to be compiled with biber using your LaTeX editor, or on the command line with 'biber main' from the template directory

\nocite{*}
\defbibnote{bibnote}{Here are the references in alphabetical order.\par\bigskip} % Prepend this text to the bibliography
\printbibliography[heading=bibintoc, title=Bibliography, prenote=bibnote] % Add

%----------------------------------------------------------------------------------------
%	INDEX
%----------------------------------------------------------------------------------------

\indexprologue{Here are the introduced concepts in alphabetical order.}
\printindex[notion]

\indexprologue{Here are the introduced acronyms in alphabetical order.}
\printindex[acronym]

\indexprologue{Here are the introduced \kl{proof systems} in alphabetical order.}
\printindex[system]

\indexprologue{Here are the introduced software systems in alphabetical order.}
\printindex[software]

%----------------------------------------------------------------------------------------
%	BACK COVER
%----------------------------------------------------------------------------------------

\includepdf[pages=1]{4eme.pdf}

\end{document}