\fontsize{9.5}{10}\selectfont
\begin{framed}
  % \renewcommand{\arraystretch}{2}
  \begin{mathpar}
  \begin{array}{r@{\quad}c@{\quad}ll}
    \multicolumn{4}{c}{\identity} \\[2em]
  
     \hypo{A}~~~\conc{A}
    &\step
    &\bsheet{\phantom{\hypo{A}~~~\conc{A}}}
    &\mathsf{i}{\downarrow} \\
  
     
     \phantom{\bubble{\conc{A}}~~~\bubble{\hypo{A}}}
    &\step
    &\bsheet{\bubble{\conc{A}}~~~\bubble{\hypo{A}}}
    &\mathsf{i}{\uparrow} \\
  \end{array}
  \and
  \begin{array}{r@{\quad}c@{\quad}ll@{\qquad\qquad}r@{\quad}c@{\quad}ll}
    \multicolumn{8}{c}{\resource} \\[2em]
  
     \gAsheet{\hypo{I}}
    &\step
    &\gAsheet{\phantom{\hypo{I}}}
    &\mathsf{w{-}} &

     \gAsheet{\conc{I}}
    &\step
    &\gAsheet{\phantom{\hypo{I}}}
    &\mathsf{w{+}} \\
  
     \gAsheet{\hypo{I}}
    &\step
    &\gAsheet{\hypo{I~~~I}}
    &\mathsf{c{-}} &

     \gAsheet{\conc{I}}
    &\step
    &\gAsheet{\conc{I~~~I}}
    &\mathsf{c{+}} \\
  \end{array}
  \vspace{2em}\\
  \begin{array}{r@{\quad}c@{\quad}ll@{\qquad\qquad}r@{\quad}c@{\quad}ll}
    \multicolumn{8}{c}{\flow} \\[2em]

    %  \gAsheet{\hbbubble{\gBbubble{\color{black}S}}}
    % &\step
    % &\bsheet{\gAbubble{\hgBbubble{\color{black}S}}}
    % &\mathsf{s{-}} &

    %  \gAsheet{\cbbubble{\gBbubble{\color{black}S}}}
    % &\step
    % &\bsheet{\gAbubble{\cgBbubble{\color{black}S}}}
    % &\mathsf{s{+}} \\

    \multicolumn{8}{c}{
      \begin{array}{r@{\quad}c@{\quad}ll}
         \bsheet{\bbubble{\gBbubble{\color{black}T}~~~\color{black}S}}
        &\step
        &\bsheet{\gBbubble{\color{black}T}~~~\bbubble{\color{black}S}}
        &\mathsf{f{\uparrow}}
      \end{array}
    } \\[3em]

    %  \gAsheet{\hbbubble{\gBbubble{\color{black}S}~~~\color{black}T}}
    % &\step
    % &\bsheet{\gBbubble{\color{black}S}~~~\hbbubble{\color{black}T}}
    % &\mathsf{n{-}{\uparrow}} &

    %  \gAsheet{\cbbubble{\gBbubble{\color{black}S}~~~\color{black}T}}
    % &\step
    % &\bsheet{\gBbubble{\color{black}S}~~~\cbbubble{\color{black}T}}
    % &\mathsf{n{+}{\uparrow}} \\
  
     \bsheet{\hypo{I}~~~\gBbubble{\color{black}S}}
    &\step
    &\bsheet{\gBbubble{\hypo{I}~~~S}}
    &\mathsf{f{-}{\downarrow}} &

     \bsheet{\conc{I}~~~\gBbubble{\color{black}S}}
    &\step
    &\bsheet{\gBbubble{\conc{I}~~~S}}
    &\mathsf{f{+{\downarrow}}} \\

     \gAsheet{\hypo{I}~~~\cgBbubble{\color{black}S}}
    &\step
    &\gAsheet{\cgBbubble{\hypo{I}~~~S}}
    &\mathsf{f{-}{+}{\downarrow}} &

     \gAsheet{\conc{I}~~~\hgBbubble{\color{black}S}}
    &\step
    &\gAsheet{\hgBbubble{\conc{I}~~~S}}
    &\mathsf{f{+}{-}{\downarrow}} \\

     \gAsheet{\hgBbubble{\hypo{I}~~~S}}
    &\step
    &\gAsheet{\hypo{I}~~~\hgBbubble{\color{black}S}}
    &\mathsf{f{-}{-}{\uparrow}} &

     \gAsheet{\cgBbubble{\conc{I}~~~S}}
    &\step
    &\gAsheet{\conc{I}~~~\cgBbubble{\color{black}S}}
    &\mathsf{f{+}{+}{\uparrow}} \\

     \gAsheet{\cgBbubble{\hypo{I}~~~S}}
    &\step
    &\gAsheet{\hypo{I}~~~\cgBbubble{\color{black}S}}
    &\mathsf{f{-}{+}{\uparrow}} &

     \gAsheet{\hgBbubble{\conc{I}~~~S}}
    &\step
    &\gAsheet{\conc{I}~~~\hgBbubble{\color{black}S}}
    &\mathsf{f{+}{-}{\uparrow}} \\

     \gAsheet{\hypo{I}~~~\hgBbubble{\color{black}S}}
    &\step
    &\gAsheet{\hgBbubble{\hypo{I}~~~S}}
    &\mathsf{f{-}{-}{\downarrow}} &

     \gAsheet{\conc{I}~~~\cgBbubble{\color{black}S}}
    &\step
    &\gAsheet{\cgBbubble{\conc{I}~~~S}}
    &\mathsf{f{+}{+}{\downarrow}} \\
  \end{array}
  \and
  \begin{array}{r@{\quad}c@{\quad}ll}
    \multicolumn{4}{c}{\membrane} \\[2em]

     \bsheet{\bbubble{\phantom{S}}}
    &\step
    &\bsheet{\phantom{\bbubble{\phantom{S}}}}
    &\mathsf{p} \\

     \hbbubble{\phantom{S}}
    &\step
    &\bsheet{\phantom{\bbubble{\phantom{S}}}}
    &\mathsf{p{-}} \\

     \cbbubble{\phantom{S}}
    &\step
    &\bsheet{\phantom{\bbubble{\phantom{S}}}}
    &\mathsf{p{+}} \\

     \bsheet{\bbubble{\gBbubble{\color{black}S}}}
    &\step
    &\bsheet{\gBbubble{\color{black}S}}
    &\mathsf{a} \\

     \gAsheet{\hbbubble{\gBbubble{\color{black}S}}}
    &\step
    &\gAsheet{\hgBbubble{\color{black}S}}
    &\mathsf{a{-}} \\

     \gAsheet{\cbbubble{\gBbubble{\color{black}S}}}
    &\step
    &\gAsheet{\cgBbubble{\color{black}S}}
    &\mathsf{a{+}} \\
  \end{array}
  \vspace{2em}\\
  \begin{array}{r@{\quad}c@{\quad}ll@{\qquad\qquad}r@{\quad}c@{\quad}ll}
    \multicolumn{8}{c}{\heating} \\[2em]
  
     \gAsheet{\hypo{\top}}
    &\step
    &\gAsheet{\phantom{\hypo{\top}}}
    &\mathsf{\top{-}}
  
    &\conc{\top}
    &\step
    &\bsheet{\phantom{\top}}
    &\mathsf{\top{+}} \\
  
     \hypo{\bot}
    &\step
    &\bsheet{\phantom{\bot}}
    &\mathsf{\bot{-}}

    &\gAsheet{\conc{\bot}}
    &\step
    &\gAsheet{\phantom{\conc{\bot}}}
    &\mathsf{\bot{+}} \\
  
     \gAsheet{\hypo{A \land B}}
    &\step
    &\gAsheet{\hypo{A}~~~\hypo{B}}
    &\mathsf{\land{-}}
  
    &\conc{A \land B}
    &\step
    &\bsheet{\bubble{\conc{A}}~~~\bubble{\conc{B}}}
    &\mathsf{\land{+}} \\
  
     \hypo{A \lor B}
    &\step
    &\bsheet{\bubble{\hypo{A}}~~~\bubble{\hypo{B}}}
    &\mathsf{\lor{-}}

    &\gAsheet{\conc{A \lor B}}
    &\step
    &\gAsheet{\conc{A}~~~\conc{B}}
    &\mathsf{\lor{+}} \\
  
     \hypo{A \limp B}
    &\step
    &\bsheet{\bubble{\conc{A}}~~~\bubble{\hypo{B}}}
    &\mathsf{{\limp}{-}}
  
    &\gAsheet{\conc{A \limp B}}
    &\step
    &\gAsheet{\cbubble{\hypo{A}~~~\conc{B}}}
    &\mathsf{{\limp}{+}} \\
  
     \gAsheet{\hypo{A \lsub B}}
    &\step
    &\gAsheet{\hbubble{\hypo{A}~~~\conc{B}}}
    &\mathsf{{\lsub}{-}}

    &\conc{A \lsub B}
    &\step
    &\bsheet{\bubble{\conc{A}}~~~\bubble{\hypo{B}}}
    &\mathsf{{\lsub}{+}} \\
  
     \gAsheet{\hypo{\forall x. A}}
    &\step
    &\gAsheet{\hypo{\subst{A}{t}{x}}}
    &\mathsf{\forall{-}}
  
    &\gAsheet{\conc{\forall x. A}}
    &\step
    &\gAsheet{\conc{\subst{A}{y}{x}}}
    &\mathsf{\forall{+}} \\
  
     \gAsheet{\hypo{\exists x. A}}
    &\step
    &\gAsheet{\hypo{\subst{A}{y}{x}}}
    &\mathsf{\exists{-}}
  
    &\gAsheet{\conc{\exists x. A}}
    &\step
    &\gAsheet{\conc{\subst{A}{t}{x}}}
    &\mathsf{\exists{+}} \\
  \end{array}
  \vspace{2em}
  \end{mathpar}
  In the {\rnm{\forall{+}}} and {\rnm{\exists{-}}} rules, $y$ is fresh.
  \end{framed}
  